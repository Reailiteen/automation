{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function parseJsonFromGemini(raw: string): unknown {\n  const trimmed = raw.trim();\n  const codeBlock = trimmed.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n  const jsonStr = codeBlock ? codeBlock[1].trim() : trimmed;\n  return JSON.parse(jsonStr);\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB;AAEO,SAAS,oBAAoB,GAAW;IAC7C,MAAM,UAAU,IAAI,IAAI;IACxB,MAAM,YAAY,QAAQ,KAAK,CAAC;IAChC,MAAM,UAAU,YAAY,SAAS,CAAC,EAAE,CAAC,IAAI,KAAK;IAClD,OAAO,KAAK,KAAK,CAAC;AACpB"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/components/ui/button.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  loading?: boolean;\n}\n\nconst variants = {\n  default:\n    \"bg-primary text-primary-foreground shadow-subtle hover:bg-primary/90 hover:shadow-subtle-hover transition-smooth active:scale-[0.98]\",\n  destructive: \"bg-destructive text-destructive-foreground shadow-subtle hover:bg-destructive/90 hover:shadow-subtle-hover transition-smooth active:scale-[0.98]\",\n  outline:\n    \"border border-border bg-background hover:bg-accent hover:text-accent-foreground transition-smooth active:scale-[0.98]\",\n  secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80 transition-smooth active:scale-[0.98]\",\n  ghost: \"hover:bg-accent hover:text-accent-foreground transition-smooth active:scale-[0.98]\",\n  link: \"text-primary underline-offset-4 hover:underline\",\n} as const;\n\nconst sizes = {\n  default: \"h-10 px-4 py-2\",\n  sm: \"h-9 rounded-md px-3\",\n  lg: \"h-11 rounded-md px-8\",\n  icon: \"h-10 w-10\",\n} as const;\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"default\", size = \"default\", loading = false, ...props }, ref) => {\n    return (\n      <button\n        className={cn(\n          \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n          variants[variant],\n          sizes[size],\n          className\n        )}\n        ref={ref}\n        disabled={loading}\n        {...props}\n      >\n        {loading && (\n          <svg\n            className=\"mr-2 h-4 w-4 animate-spin\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <circle\n              className=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              strokeWidth=\"4\"\n            ></circle>\n            <path\n              className=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            ></path>\n          </svg>\n        )}\n        {props.children}\n      </button>\n    );\n  }\n);\n\nButton.displayName = \"Button\";\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWA,MAAM,WAAW;IACf,SACE;IACF,aAAa;IACb,SACE;IACF,WAAW;IACX,OAAO;IACP,MAAM;AACR;AAEA,MAAM,QAAQ;IACZ,SAAS;IACT,IAAI;IACJ,IAAI;IACJ,MAAM;AACR;AAEA,MAAM,uBAAS,IAAA,waAAU,EACvB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IAChF,qBACE,mcAAC;QACC,WAAW,IAAA,gJAAE,EACX,yQACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX;QAEF,KAAK;QACL,UAAU;QACT,GAAG,KAAK;;YAER,yBACC,mcAAC;gBACC,WAAU;gBACV,OAAM;gBACN,MAAK;gBACL,SAAQ;;kCAER,mcAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;;;;;;kCAEd,mcAAC;wBACC,WAAU;wBACV,MAAK;wBACL,GAAE;;;;;;;;;;;;YAIP,MAAM,QAAQ;;;;;;;AAGrB;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/components/layout/navigation.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport Link from \"next/link\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { usePathname } from \"next/navigation\";\n\nconst Navigation = () => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const pathname = usePathname();\n\n  const navItems = [\n    { name: \"Dashboard\", href: \"/\" },\n    { name: \"Chat\", href: \"/chat\" },\n    { name: \"Tasks\", href: \"/tasks\" },\n    { name: \"Pressure\", href: \"/pressure\" },\n    { name: \"Schedule\", href: \"/schedule\" },\n    { name: \"Push\", href: \"/push\" },\n  ];\n\n  return (\n    <header className=\"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <nav className=\"container mx-auto flex h-14 sm:h-16 items-center justify-between px-4 sm:px-6\">\n        <div className=\"flex items-center min-w-0\">\n          <span className=\"text-base sm:text-lg font-semibold text-foreground truncate\">\n            AI Task Manager\n          </span>\n        </div>\n\n        {/* Desktop navigation */}\n        <ul className=\"hidden md:flex items-center gap-1 flex-shrink-0\">\n          {navItems.map((item) => {\n            const isActive = pathname === item.href;\n            return (\n              <li key={item.name}>\n                <Link\n                  href={item.href}\n                  className={cn(\n                    \"text-sm font-medium px-3 py-2 rounded-md transition-smooth\",\n                    isActive\n                      ? \"bg-primary text-primary-foreground\"\n                      : \"text-muted-foreground hover:text-foreground hover:bg-accent\"\n                  )}\n                >\n                  {item.name}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n\n        {/* Mobile menu button */}\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"md:hidden\"\n          onClick={() => setIsMenuOpen(!isMenuOpen)}\n          aria-label=\"Toggle menu\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            className=\"h-5 w-5\"\n          >\n            <line x1=\"4\" x2=\"20\" y1=\"12\" y2=\"12\" />\n            <line x1=\"4\" x2=\"20\" y1=\"6\" y2=\"6\" />\n            <line x1=\"4\" x2=\"20\" y1=\"18\" y2=\"18\" />\n          </svg>\n        </Button>\n\n        {/* Mobile navigation */}\n        <AnimatePresence>\n          {isMenuOpen && (\n            <motion.div\n              initial={{ opacity: 0, height: 0 }}\n              animate={{ opacity: 1, height: \"auto\" }}\n              exit={{ opacity: 0, height: 0 }}\n              className=\"absolute top-14 sm:top-16 left-0 right-0 border-b bg-background md:hidden max-h-[70vh] overflow-y-auto\"\n            >\n              <ul className=\"container mx-auto flex flex-col gap-1 p-4 pb-6\">\n                {navItems.map((item) => (\n                  <li key={item.name}>\n                    <Link\n                      href={item.href}\n                      className={cn(\n                        \"block py-2 px-3 rounded-md text-sm font-medium transition-smooth\",\n                        pathname === item.href\n                          ? \"bg-primary text-primary-foreground\"\n                          : \"text-muted-foreground hover:text-foreground hover:bg-accent\"\n                      )}\n                      onClick={() => setIsMenuOpen(false)}\n                    >\n                      {item.name}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </nav>\n    </header>\n  );\n};\n\nexport default Navigation;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,aAAa;IACjB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,saAAQ,EAAC;IAC7C,MAAM,WAAW,IAAA,sWAAW;IAE5B,MAAM,WAAW;QACf;YAAE,MAAM;YAAa,MAAM;QAAI;QAC/B;YAAE,MAAM;YAAQ,MAAM;QAAQ;QAC9B;YAAE,MAAM;YAAS,MAAM;QAAS;QAChC;YAAE,MAAM;YAAY,MAAM;QAAY;QACtC;YAAE,MAAM;YAAY,MAAM;QAAY;QACtC;YAAE,MAAM;YAAQ,MAAM;QAAQ;KAC/B;IAED,qBACE,mcAAC;QAAO,WAAU;kBAChB,cAAA,mcAAC;YAAI,WAAU;;8BACb,mcAAC;oBAAI,WAAU;8BACb,cAAA,mcAAC;wBAAK,WAAU;kCAA8D;;;;;;;;;;;8BAMhF,mcAAC;oBAAG,WAAU;8BACX,SAAS,GAAG,CAAC,CAAC;wBACb,MAAM,WAAW,aAAa,KAAK,IAAI;wBACvC,qBACE,mcAAC;sCACC,cAAA,mcAAC,4XAAI;gCACH,MAAM,KAAK,IAAI;gCACf,WAAW,IAAA,gJAAE,EACX,8DACA,WACI,uCACA;0CAGL,KAAK,IAAI;;;;;;2BAVL,KAAK,IAAI;;;;;oBActB;;;;;;8BAIF,mcAAC,mKAAM;oBACL,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,SAAS,IAAM,cAAc,CAAC;oBAC9B,cAAW;8BAEX,cAAA,mcAAC;wBACC,OAAM;wBACN,OAAM;wBACN,QAAO;wBACP,SAAQ;wBACR,MAAK;wBACL,QAAO;wBACP,aAAY;wBACZ,eAAc;wBACd,gBAAe;wBACf,WAAU;;0CAEV,mcAAC;gCAAK,IAAG;gCAAI,IAAG;gCAAK,IAAG;gCAAK,IAAG;;;;;;0CAChC,mcAAC;gCAAK,IAAG;gCAAI,IAAG;gCAAK,IAAG;gCAAI,IAAG;;;;;;0CAC/B,mcAAC;gCAAK,IAAG;gCAAI,IAAG;gCAAK,IAAG;gCAAK,IAAG;;;;;;;;;;;;;;;;;8BAKpC,mcAAC,wVAAe;8BACb,4BACC,mcAAC,gVAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,QAAQ;wBAAE;wBACjC,SAAS;4BAAE,SAAS;4BAAG,QAAQ;wBAAO;wBACtC,MAAM;4BAAE,SAAS;4BAAG,QAAQ;wBAAE;wBAC9B,WAAU;kCAEV,cAAA,mcAAC;4BAAG,WAAU;sCACX,SAAS,GAAG,CAAC,CAAC,qBACb,mcAAC;8CACC,cAAA,mcAAC,4XAAI;wCACH,MAAM,KAAK,IAAI;wCACf,WAAW,IAAA,gJAAE,EACX,oEACA,aAAa,KAAK,IAAI,GAClB,uCACA;wCAEN,SAAS,IAAM,cAAc;kDAE5B,KAAK,IAAI;;;;;;mCAXL,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBpC;uCAEe"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/components/layout/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { ReactNode } from \"react\";\nimport Navigation from \"./navigation\";\n\ninterface LayoutProps {\n  children: ReactNode;\n}\n\nconst Layout = ({ children }: LayoutProps) => {\n  return (\n    <div className=\"min-h-screen bg-[#0a0a0a] overflow-x-hidden\">\n      <Navigation />\n      <main className=\"container mx-auto px-4 sm:px-6 py-6 sm:py-12 max-w-7xl\">\n        {children}\n      </main>\n    </div>\n  );\n};\n\nexport default Layout;"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASA,MAAM,SAAS,CAAC,EAAE,QAAQ,EAAe;IACvC,qBACE,mcAAC;QAAI,WAAU;;0BACb,mcAAC,4KAAU;;;;;0BACX,mcAAC;gBAAK,WAAU;0BACb;;;;;;;;;;;;AAIT;uCAEe"}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/components/ui/card.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef, HTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\n        \"rounded-lg bg-card text-card-foreground border border-border shadow-subtle hover:shadow-subtle-hover hover:border-border/80 transition-smooth\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\nCard.displayName = \"Card\";\n\nconst CardHeader = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\"flex flex-col space-y-1 p-6 pb-4\", className)}\n      {...props}\n    />\n  )\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3\n      ref={ref}\n      className={cn(\"font-semibold leading-none tracking-tight text-lg\", className)}\n      {...props}\n    />\n  )\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p\n      ref={ref}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n  )\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n  )\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,qBAAO,IAAA,waAAU,EACrB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,mcAAC;QACC,KAAK;QACL,WAAW,IAAA,gJAAE,EACX,iJACA;QAED,GAAG,KAAK;;;;;;AAIf,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,IAAA,waAAU,EAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,mcAAC;QACC,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,oCAAoC;QACjD,GAAG,KAAK;;;;;;AAIf,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,IAAA,waAAU,EAC1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,mcAAC;QACC,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;AAIf,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,IAAA,waAAU,EAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,mcAAC;QACC,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAIf,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,IAAA,waAAU,EAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,mcAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAGlE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,IAAA,waAAU,EAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,mcAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;AAGpF,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/components/tasks/task-card.tsx"],"sourcesContent":["\"use client\";\n\nimport { Task } from \"@/lib/models/task\";\nimport { motion } from \"framer-motion\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { Calendar, Clock, Star } from \"lucide-react\";\n\nconst getPriorityColor = (priority: Task['priority']) => {\n  switch (priority) {\n    case 'urgent':\n      return 'border-l-red-500';\n    case 'high':\n      return 'border-l-orange-500';\n    case 'medium':\n      return 'border-l-yellow-500';\n    case 'low':\n      return 'border-l-green-500';\n  }\n};\n\nconst getFocusLevelBadge = (focusLevel: Task['focusLevel']) => {\n  switch (focusLevel) {\n    case 'deep':\n      return 'bg-primary text-primary-foreground';\n    case 'medium':\n      return 'bg-secondary text-secondary-foreground';\n    case 'shallow':\n      return 'bg-muted text-muted-foreground';\n  }\n};\n\ninterface TaskCardProps {\n  task: Task;\n  status?: 'summary' | 'detailed';\n  onStartTask?: (taskId: string) => void;\n  onEditTask?: (taskId: string) => void;\n  onDeleteTask?: (taskId: string) => void;\n}\n\nconst TaskCard = (\n  { task, status = 'summary', onStartTask, onEditTask, onDeleteTask }\n  : TaskCardProps\n) => {\n  const formattedTime = Math.floor(task.estimatedTime / 60) > 0\n    ? `${Math.floor(task.estimatedTime / 60)}h ${task.estimatedTime % 60}m`\n    : `${task.estimatedTime}m`;\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, y: 8 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0 }}\n      transition={{ duration: 0.2, ease: \"easeOut\" }}\n    >\n      <Card className={cn(\n        \"h-full border-l-4\", \n        getPriorityColor(task.priority)\n      )}>\n        <CardHeader>\n          <div className=\"flex justify-between items-start gap-3\">\n            <CardTitle className=\"text-base font-medium leading-snug flex-1\">{task.title}</CardTitle>\n            <div className=\"flex flex-wrap items-center gap-1.5 flex-shrink-0\">\n              {(task.kind && task.kind !== \"todo\") && (\n                <span className=\"inline-flex rounded-md px-2 py-0.5 text-xs font-medium bg-muted text-muted-foreground capitalize\">\n                  {task.kind}\n                </span>\n              )}\n              <span className={cn(\n                \"inline-flex items-center rounded-md px-2 py-0.5 text-xs font-medium\",\n                getFocusLevelBadge(task.focusLevel)\n              )}>\n                {task.focusLevel}\n              </span>\n            </div>\n          </div>\n          {task.description && status === 'detailed' && (\n            <CardDescription className=\"text-sm overflow-hidden\">\n              <div className=\"line-clamp-3\">\n                {task.description}\n              </div>\n            </CardDescription>\n          )}\n        </CardHeader>\n\n        <CardContent>\n          {task.tags.length > 0 && (\n            <div className=\"flex flex-wrap gap-2 mb-4\">\n              {task.tags.map((tag) => (\n                <span\n                  key={tag}\n                  className=\"inline-flex rounded-md px-2 py-0.5 text-xs font-medium bg-muted text-muted-foreground\"\n                >\n                  {tag}\n                </span>\n              ))}\n            </div>\n          )}\n\n          <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n            <div className=\"flex items-center gap-1.5\">\n              <Clock size={14} />\n              <span>{formattedTime}</span>\n            </div>\n            {task.dueDate && (\n              <div className=\"flex items-center gap-1.5\">\n                <Calendar size={14} />\n                <span>{new Date(task.dueDate).toLocaleDateString()}</span>\n              </div>\n            )}\n            <div className=\"flex items-center gap-1.5\">\n              <Star size={14} />\n              <span className=\"capitalize\">{task.priority}</span>\n            </div>\n          </div>\n        </CardContent>\n\n        {status === 'detailed' && (\n          <CardFooter className=\"pt-0\">\n            <div className=\"flex flex-wrap gap-2 w-full\">\n              {onStartTask && task.status === 'pending' && (\n                <Button\n                  size=\"sm\"\n                  className=\"flex-grow\"\n                  onClick={() => onStartTask(task.id)}\n                >\n                  Start\n                </Button>\n              )}\n              {task.status === 'in-progress' && (\n                <Button size=\"sm\" disabled className=\"flex-grow\">\n                  In Progress\n                </Button>\n              )}\n              {onEditTask && (\n                <Button variant=\"outline\" size=\"sm\" onClick={() => onEditTask(task.id)}>\n                  Edit\n                </Button>\n              )}\n              {onDeleteTask && (\n                <Button variant=\"destructive\" size=\"sm\" onClick={() => onDeleteTask(task.id)}>\n                  Delete\n                </Button>\n              )}\n            </div>\n          </CardFooter>\n        )}\n      </Card>\n    </motion.div>\n  );\n};\n\nexport default TaskCard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 769, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/components/ui/voice-input.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Mic, MicOff, Loader2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface VoiceInputProps {\n  onTranscriptionComplete?: (text: string) => void;\n  onError?: (error: string) => void;\n  onProcessingStart?: () => void;\n  className?: string;\n  disabled?: boolean;\n  autoStop?: boolean;\n  silenceThreshold?: number; // ms of silence before auto-stop\n  /** Smaller button and less chrome for inline use */\n  compact?: boolean;\n}\n\nexport function VoiceInput({\n  onTranscriptionComplete,\n  onError,\n  onProcessingStart,\n  className,\n  disabled = false,\n  autoStop = true,\n  silenceThreshold = 30000, // 30 seconds of silence\n  compact = false,\n}: VoiceInputProps) {\n  const [isRecording, setIsRecording] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [volumeLevel, setVolumeLevel] = useState(0);\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const audioChunksRef = useRef<Blob[]>([]);\n  const streamRef = useRef<MediaStream | null>(null);\n  const lastSoundTimeRef = useRef<number>(Date.now());\n  const isRecordingRef = useRef<boolean>(false);\n  const volumeThrottleRef = useRef(0);\n  const analyserRef = useRef<AnalyserNode | null>(null);\n  const audioContextRef = useRef<AudioContext | null>(null);\n\n  useEffect(() => {\n    return () => {\n      stopRecording();\n      if (streamRef.current) {\n        streamRef.current.getTracks().forEach((track) => track.stop());\n      }\n      audioContextRef.current?.close();\n    };\n  }, []);\n\n  const startRecording = async () => {\n    try {\n      setError(null);\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      streamRef.current = stream;\n\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: \"audio/webm;codecs=opus\",\n      });\n      mediaRecorderRef.current = mediaRecorder;\n      audioChunksRef.current = [];\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = async () => {\n        if (audioChunksRef.current.length === 0) {\n          setIsRecording(false);\n          return;\n        }\n\n        const audioBlob = new Blob(audioChunksRef.current, {\n          type: \"audio/webm;codecs=opus\",\n        });\n\n        await transcribeAudio(audioBlob);\n\n        // Stop all tracks\n        if (streamRef.current) {\n          streamRef.current.getTracks().forEach((track) => track.stop());\n          streamRef.current = null;\n        }\n      };\n\n      mediaRecorder.start();\n      setIsRecording(true);\n      isRecordingRef.current = true;\n      lastSoundTimeRef.current = Date.now();\n\n      if (autoStop) {\n        const audioContext = new AudioContext();\n        audioContextRef.current = audioContext;\n        const analyser = audioContext.createAnalyser();\n        analyserRef.current = analyser;\n        const microphone = audioContext.createMediaStreamSource(stream);\n        microphone.connect(analyser);\n        analyser.fftSize = 256;\n        const dataArray = new Uint8Array(analyser.frequencyBinCount);\n\n        const checkSilence = () => {\n          if (!isRecordingRef.current) return;\n          analyser.getByteFrequencyData(dataArray);\n          const average = dataArray.reduce((a, b) => a + b, 0) / dataArray.length;\n\n          if (average > 10) {\n            lastSoundTimeRef.current = Date.now();\n          }\n          const timeSinceLastSound = Date.now() - lastSoundTimeRef.current;\n          if (timeSinceLastSound > silenceThreshold) {\n            stopRecording();\n            audioContext.close();\n            return;\n          }\n\n          volumeThrottleRef.current += 1;\n          if (volumeThrottleRef.current % 3 === 0) {\n            const normalized = Math.min(1, average / 80);\n            setVolumeLevel(normalized);\n          }\n          requestAnimationFrame(checkSilence);\n        };\n        checkSilence();\n      }\n    } catch (err: any) {\n      console.error('Error starting recording:', err);\n      const errorMessage =\n        err.name === \"NotAllowedError\"\n          ? \"Microphone access denied. Please allow microphone access in your browser settings.\"\n          : err.name === \"NotFoundError\"\n          ? \"No microphone found. Please connect a microphone and try again.\"\n          : \"Failed to start recording. Please try again.\";\n      setError(errorMessage);\n      onError?.(errorMessage);\n      setIsRecording(false);\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecordingRef.current) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      isRecordingRef.current = false;\n      setVolumeLevel(0);\n    }\n  };\n\n  const transcribeAudio = async (audioBlob: Blob) => {\n    setIsProcessing(true);\n    onProcessingStart?.();\n    try {\n      // Convert to a format Groq accepts (m4a or webm)\n      // Groq accepts various formats, but we'll convert webm to a File-like object\n      const formData = new FormData();\n      \n      // Create a File object from the Blob\n      const audioFile = new File([audioBlob], \"recording.webm\", {\n        type: \"audio/webm;codecs=opus\",\n      });\n      formData.append(\"file\", audioFile);\n\n      const response = await fetch(\"/api/transcribe\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Transcription failed\");\n      }\n\n      const data = await response.json();\n      const t = data?.text;\n      if (typeof t === \"string\") onTranscriptionComplete?.(t);\n    } catch (err: any) {\n      const errorMessage =\n        err.message || \"Failed to transcribe audio. Please try again.\";\n      setError(errorMessage);\n      onError?.(errorMessage);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleToggle = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (disabled || isProcessing) return;\n    if (isRecording) stopRecording();\n    else await startRecording();\n  };\n\n  const size = compact ? 40 : 64;\n  const iconCls = compact ? \"h-4 w-4\" : \"h-5 w-5\";\n  const iconClsLg = compact ? \"h-4 w-4\" : \"h-6 w-6\";\n\n  return (\n    <div className={cn(\"relative flex flex-col items-center\", className)}>\n      <div className=\"relative\" style={{ width: size, height: size }}>\n        {!isRecording && !isProcessing && (\n          <motion.div\n            className=\"absolute inset-0 rounded-full border-2 border-cyan-400 pointer-events-none\"\n            initial={{ scale: 1, opacity: 0.5 }}\n            animate={{ scale: [1, 1.1, 1], opacity: [0.5, 0.8, 0.5] }}\n            transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\n            style={{ zIndex: 1 }}\n          />\n        )}\n        {isRecording && (\n          <motion.div\n            className=\"absolute inset-0 rounded-full border-2 border-red-500 pointer-events-none\"\n            animate={{\n              scale: 1.15 + volumeLevel * 0.35,\n              opacity: 0.5 + volumeLevel * 0.4,\n            }}\n            transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n            style={{ zIndex: 1 }}\n          />\n        )}\n\n        <button\n          type=\"button\"\n          onClick={handleToggle}\n          disabled={disabled || isProcessing}\n          className={cn(\n            \"absolute inset-0 rounded-full transition-all bg-gray-800 border-2 flex items-center justify-center cursor-pointer\",\n            \"border-cyan-400/50 hover:border-cyan-400\",\n            isRecording && \"border-red-500\",\n            (disabled || isProcessing) && \"opacity-50 cursor-not-allowed\"\n          )}\n          style={{ zIndex: 10, width: size, height: size }}\n        >\n          <AnimatePresence mode=\"wait\">\n            {isProcessing ? (\n              <motion.div key=\"processing\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\n                <Loader2 className={cn(iconCls, \"animate-spin text-white\")} />\n              </motion.div>\n            ) : isRecording ? (\n              <motion.div\n                key=\"recording\"\n                animate={{ scale: 1 + volumeLevel * 0.15 }}\n                transition={{ type: \"spring\", stiffness: 400, damping: 15 }}\n              >\n                <MicOff className={cn(iconCls, \"text-white\")} />\n              </motion.div>\n            ) : (\n              <motion.div key=\"idle\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\n                <Mic className={cn(iconClsLg, \"text-white\")} />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </button>\n      </div>\n\n      <AnimatePresence>\n        {error && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            className=\"absolute top-full left-1/2 -translate-x-1/2 mt-2 px-3 py-1.5 bg-destructive text-destructive-foreground text-xs rounded-md whitespace-nowrap z-50\"\n          >\n            {error}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {isRecording && !compact && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"absolute top-full left-1/2 -translate-x-1/2 mt-2 text-xs text-gray-400 whitespace-nowrap\"\n        >\n          Recordingâ€¦ Click to stop\n        </motion.div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1137, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/components/tasks/duplicate-confirmation-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { X, AlertTriangle, Merge, RefreshCw, Plus, XCircle } from \"lucide-react\";\nimport type { SimilarItem } from \"@/lib/services/memory-service\";\n\ninterface DuplicateConfirmationModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  similarItems: SimilarItem[];\n  newInput: string;\n  onMerge: (itemId: string, itemType: 'plan' | 'task') => void;\n  onUpdate: (itemId: string, itemType: 'plan' | 'task') => void;\n  onCreateNew: () => void;\n}\n\nexport function DuplicateConfirmationModal({\n  isOpen,\n  onClose,\n  similarItems,\n  newInput,\n  onMerge,\n  onUpdate,\n  onCreateNew,\n}: DuplicateConfirmationModalProps) {\n  if (!isOpen) return null;\n\n  const highestSimilarity = similarItems[0]?.similarity || 0;\n  const isDuplicate = highestSimilarity >= 0.9;\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm\">\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.95 }}\n            transition={{ duration: 0.2 }}\n            className=\"w-full max-w-2xl\"\n          >\n            <Card className=\"bg-gray-900 border-gray-700\">\n              <CardHeader>\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 rounded-full bg-yellow-500/20\">\n                      <AlertTriangle className=\"h-5 w-5 text-yellow-400\" />\n                    </div>\n                    <div>\n                      <CardTitle className=\"text-xl text-white\">\n                        {isDuplicate ? \"Duplicate Detected\" : \"Similar Items Found\"}\n                      </CardTitle>\n                      <CardDescription className=\"text-gray-400 mt-1\">\n                        {isDuplicate \n                          ? \"This looks very similar to an existing item\"\n                          : \"We found similar items that might be related\"}\n                      </CardDescription>\n                    </div>\n                  </div>\n                  <button\n                    onClick={onClose}\n                    className=\"p-2 rounded-md hover:bg-gray-800 transition-smooth text-gray-400 hover:text-white\"\n                  >\n                    <X className=\"h-5 w-5\" />\n                  </button>\n                </div>\n              </CardHeader>\n\n              <CardContent className=\"space-y-6\">\n                {/* New Input */}\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-300 mb-2\">Your Input:</h3>\n                  <div className=\"p-3 rounded-lg bg-gray-800/50 border border-gray-700\">\n                    <p className=\"text-sm text-white\">{newInput}</p>\n                  </div>\n                </div>\n\n                {/* Similar Items */}\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-300 mb-3\">\n                    {isDuplicate ? \"Existing Item:\" : \"Similar Items:\"}\n                  </h3>\n                  <div className=\"space-y-3\">\n                    {similarItems.slice(0, 3).map((item, index) => (\n                      <div\n                        key={index}\n                        className=\"p-4 rounded-lg bg-gray-800/50 border border-gray-700\"\n                      >\n                        <div className=\"flex items-start justify-between mb-2\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-1\">\n                              <span className=\"px-2 py-0.5 rounded text-xs font-medium bg-blue-500/20 text-blue-400 border border-blue-500/30\">\n                                {item.type === 'plan' ? 'Plan' : 'Task'}\n                              </span>\n                              <span className=\"text-xs text-gray-400\">\n                                {(item.similarity * 100).toFixed(0)}% similar\n                              </span>\n                            </div>\n                            <h4 className=\"text-sm font-semibold text-white mb-1\">\n                              {item.item.title}\n                            </h4>\n                            <p className=\"text-xs text-gray-400 mb-2\">\n                              {item.reason}\n                            </p>\n                            {'description' in item.item && item.item.description && (\n                              <p className=\"text-sm text-gray-300\">\n                                {item.item.description}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex flex-col gap-3 pt-4 border-t border-gray-700\">\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <Button\n                      onClick={() => {\n                        const item = similarItems[0];\n                        onMerge(item.item.id, item.type);\n                      }}\n                      variant=\"outline\"\n                      className=\"border-blue-500/50 text-blue-400 hover:bg-blue-500/10\"\n                    >\n                      <Merge className=\"h-4 w-4 mr-2\" />\n                      Merge\n                    </Button>\n                    <Button\n                      onClick={() => {\n                        const item = similarItems[0];\n                        onUpdate(item.item.id, item.type);\n                      }}\n                      variant=\"outline\"\n                      className=\"border-purple-500/50 text-purple-400 hover:bg-purple-500/10\"\n                    >\n                      <RefreshCw className=\"h-4 w-4 mr-2\" />\n                      Update\n                    </Button>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <Button\n                      onClick={onCreateNew}\n                      className=\"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white border-0\"\n                    >\n                      <Plus className=\"h-4 w-4 mr-2\" />\n                      Create New Anyway\n                    </Button>\n                    <Button\n                      onClick={onClose}\n                      variant=\"outline\"\n                      className=\"border-gray-700 text-gray-300 hover:bg-gray-800\"\n                    >\n                      <XCircle className=\"h-4 w-4 mr-2\" />\n                      Cancel\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </motion.div>\n        </div>\n      )}\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1534, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/components/tasks/task-creation-form.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { VoiceInput } from \"@/components/ui/voice-input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { DuplicateConfirmationModal } from \"@/components/tasks/duplicate-confirmation-modal\";\nimport { X } from \"lucide-react\";\nimport { SimilarItem } from \"@/lib/services/memory-service\";\n\ninterface TaskCreationFormProps {\n  onClose: () => void;\n  onTaskCreated?: () => void;\n}\n\nexport function TaskCreationForm({ onClose, onTaskCreated }: TaskCreationFormProps) {\n  const [text, setText] = useState(\"\");\n  const [transcription, setTranscription] = useState<string>(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [showDuplicateModal, setShowDuplicateModal] = useState(false);\n  const [duplicateItems, setDuplicateItems] = useState<SimilarItem[]>([]);\n  const [pendingInput, setPendingInput] = useState<string>(\"\");\n\n  const handleVoiceTranscription = (transcribedText: string) => {\n    const trimmed = transcribedText.trim();\n    if (!trimmed) return;\n    setText((prev) => (prev ? `${prev} ${trimmed}` : trimmed));\n    setTranscription((prev) => (prev ? `${prev} ${trimmed}` : trimmed));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    // Allow submission with just voice input - text can be empty if voice was used\n    const inputText = text.trim();\n    if (!inputText) {\n      setError(\"Describe what you want to accomplish in the box above or via voice.\");\n      return;\n    }\n\n    setIsSubmitting(true);\n    setError(null);\n\n    try {\n      const response = await fetch(\"/api/agents/planner\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          goals: [inputText],\n          constraints: {},\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Failed to create task\");\n      }\n\n      const result = await response.json();\n      console.log('Planner API response:', result);\n      \n      // Check if there was an error in the result\n      if (result.error) {\n        throw new Error(result.error);\n      }\n      \n      // Check for error in metadata (from planner agent catch block)\n      if (result.metadata?.error) {\n        console.error('Planner agent error:', result.metadata.error);\n        throw new Error(result.metadata.error || 'Planner agent failed to process your request');\n      }\n      \n      // Check if result has a result property (AgentOutput format)\n      if (!result.result) {\n        const errorMsg = result.metadata?.error || 'Invalid response from planner agent';\n        console.error('No result from planner agent:', result);\n        throw new Error(errorMsg);\n      }\n      \n      // Check for duplicate detection\n      if (result.metadata?.duplicateDetected && result.metadata.similarItems) {\n        // Map API response to SimilarItem format\n        const mappedItems: SimilarItem[] = result.metadata.similarItems.map((item: any) => {\n          // If item already has the full object, use it; otherwise construct it\n          const itemObj = item.item || {\n            id: item.id,\n            title: item.title,\n            description: item.description || '',\n            ...(item.type === 'plan' ? { goal: item.goal || '' } : {}),\n          };\n          \n          return {\n            item: itemObj,\n            type: item.type,\n            similarity: item.similarity || 0.9,\n            reason: item.reason || 'Similar content found',\n          };\n        });\n        \n        setDuplicateItems(mappedItems);\n        setPendingInput(inputText);\n        setShowDuplicateModal(true);\n        setIsSubmitting(false);\n        return;\n      }\n      \n      // If successful, close the form and refresh\n      if (onTaskCreated) {\n        onTaskCreated();\n      }\n      onClose();\n    } catch (err: any) {\n      setError(err.message || \"Failed to create task. Please try again.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleMerge = async (itemId: string, itemType: 'plan' | 'task') => {\n    // TODO: Implement merge logic\n    setShowDuplicateModal(false);\n    setError(\"Merge functionality coming soon\");\n  };\n\n  const handleUpdate = async (itemId: string, itemType: 'plan' | 'task') => {\n    // TODO: Implement update logic\n    setShowDuplicateModal(false);\n    setError(\"Update functionality coming soon\");\n  };\n\n  const handleCreateNew = async () => {\n    setShowDuplicateModal(false);\n    // Retry creation with force flag or proceed anyway\n    setIsSubmitting(true);\n    try {\n      const response = await fetch(\"/api/agents/planner\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          goals: [pendingInput],\n          constraints: {},\n          forceCreate: true, // Flag to bypass duplicate check\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Failed to create task\");\n      }\n\n      if (onTaskCreated) {\n        onTaskCreated();\n      }\n      onClose();\n    } catch (err: any) {\n      setError(err.message || \"Failed to create task. Please try again.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <>\n      <DuplicateConfirmationModal\n        isOpen={showDuplicateModal}\n        onClose={() => setShowDuplicateModal(false)}\n        similarItems={duplicateItems}\n        newInput={pendingInput}\n        onMerge={handleMerge}\n        onUpdate={handleUpdate}\n        onCreateNew={handleCreateNew}\n      />\n      \n      <div className=\"fixed inset-0 z-50 flex items-start justify-center p-4 sm:p-6 overflow-y-auto bg-black/50 backdrop-blur-sm\">\n        <motion.div\n          initial={{ opacity: 0, scale: 0.98 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.98 }}\n          transition={{ duration: 0.2 }}\n          className=\"w-full max-w-2xl my-4 sm:my-8\"\n        >\n        <Card className=\"bg-gray-900 border-gray-700\">\n          <CardHeader className=\"px-4 sm:px-6\">\n            <div className=\"flex items-start justify-between gap-3\">\n              <CardTitle className=\"text-xl sm:text-2xl font-bold text-white leading-tight\">\n                Talk your mind\n              </CardTitle>\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"p-2 -m-2 rounded-md hover:bg-gray-800 transition-smooth text-gray-400 hover:text-white touch-manipulation shrink-0\"\n                aria-label=\"Close\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </div>\n            <CardDescription className=\"text-gray-400 mt-1 text-sm sm:text-base\">\n              Type or say what you want to accomplish. Keep recording to add moreâ€”each clip appends.\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent className=\"space-y-6 px-4 sm:px-6\">\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"plan-description\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Description <span className=\"text-gray-500 text-xs\">(required)</span>\n                </label>\n                <textarea\n                  id=\"plan-description\"\n                  value={text}\n                  onChange={(e) => setText(e.target.value)}\n                  placeholder=\"e.g. Prepare for tomorrow's meeting, finish system design doc, brush teeth twice daily\"\n                  className=\"w-full min-h-[100px] p-4 rounded-lg border border-gray-700 bg-gray-800 text-white placeholder-gray-500 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-smooth resize-none text-base\"\n                />\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-3 sm:gap-4\">\n                <label className=\"text-sm font-medium text-gray-300 shrink-0\">Voice</label>\n                <div className=\"flex items-center gap-2\">\n                  <VoiceInput\n                    compact\n                    silenceThreshold={30000}\n                    onTranscriptionComplete={handleVoiceTranscription}\n                    onError={(err) => setError(err)}\n                  />\n                  <span className=\"text-xs text-gray-500 max-w-[140px]\">\n                    Tap to record. Stops after 30s silence or when you tap again. Appends to text.\n                  </span>\n                </div>\n              </div>\n\n              {error && (\n                <motion.div\n                  initial={{ opacity: 0, y: -10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  className=\"p-3 bg-destructive/10 border border-destructive text-destructive rounded-lg text-sm\"\n                >\n                  {error}\n                </motion.div>\n              )}\n\n              <div className=\"flex flex-col-reverse sm:flex-row gap-3 pt-4\">\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={onClose}\n                  className=\"flex-1 min-h-[44px] border-gray-700 text-gray-300 hover:bg-gray-800 touch-manipulation\"\n                  disabled={isSubmitting}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={!text.trim() || isSubmitting}\n                  className=\"flex-1 min-h-[44px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white border-0 touch-manipulation\"\n                >\n                  {isSubmitting ? \"Creatingâ€¦\" : \"Create\"}\n                </Button>\n              </div>\n            </form>\n          </CardContent>\n        </Card>\n      </motion.div>\n    </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1949, "column": 0}, "map": {"version":3,"sources":["file:///Users/majedahalshorman/Desktop/Side-Projects/automation/apps/web/apps/web/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport Layout from \"@/components/layout/layout\";\nimport TaskCard from \"@/components/tasks/task-card\";\nimport { TaskCreationForm } from \"@/components/tasks/task-creation-form\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Plus, Calendar, Target, Activity, Sparkles, LogIn, UserPlus } from \"lucide-react\";\nimport { AnimatePresence } from \"framer-motion\";\nimport Link from \"next/link\";\nimport { useAuth } from \"@/components/auth/auth-provider\";\n\ninterface Task {\n  id: string;\n  title: string;\n  description?: string;\n  status: 'pending' | 'in-progress' | 'completed' | 'cancelled';\n  priority: 'low' | 'medium' | 'high' | 'urgent';\n  estimatedTime: number;\n  actualTime?: number;\n  focusLevel: 'shallow' | 'medium' | 'deep';\n  dueDate?: Date;\n  createdAt: Date;\n  updatedAt: Date;\n  parentTaskId?: string;\n  subtasks: string[];\n  dependencies: string[];\n  tags: string[];\n  energyRequirement: 'low' | 'medium' | 'high';\n  context: string;\n}\n\nconst HomePage = () => {\n  const { user, loading: authLoading } = useAuth();\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showTaskForm, setShowTaskForm] = useState(false);\n\n  useEffect(() => {\n    // Only fetch tasks if user is authenticated\n    if (authLoading) return;\n    \n    if (!user) {\n      setLoading(false);\n      return;\n    }\n\n    // Fetch tasks from API\n    const fetchTasks = async () => {\n      try {\n        const response = await fetch('/api/tasks');\n        if (!response.ok) {\n          if (response.status === 401) {\n            // User not authenticated\n            setTasks([]);\n            return;\n          }\n          const errorData = await response.json();\n          console.error('Error fetching tasks:', errorData);\n          setTasks([]);\n          return;\n        }\n        const tasksData = await response.json();\n        // Ensure tasksData is an array\n        if (Array.isArray(tasksData)) {\n          setTasks(tasksData);\n        } else {\n          console.error('Invalid tasks data format:', tasksData);\n          setTasks([]);\n        }\n      } catch (error) {\n        console.error('Error fetching tasks:', error);\n        setTasks([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTasks();\n  }, [user, authLoading]);\n\n  const handleTaskCreated = async () => {\n    // Refresh tasks after creation\n    if (!user) return;\n    \n    try {\n      const response = await fetch('/api/tasks');\n      if (!response.ok) {\n        console.error('Error refreshing tasks:', await response.json());\n        return;\n      }\n      const tasksData = await response.json();\n      if (Array.isArray(tasksData)) {\n        setTasks(tasksData);\n      }\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  };\n\n  // Ensure tasks is always an array before filtering - THIS IS THE KEY FIX\n  const tasksArray = Array.isArray(tasks) ? tasks : [];\n  const activeTasks = tasksArray.filter(task => task.status === 'in-progress')[0];\n  // Show all tasks except the active one\n  const todayTasks = tasksArray.filter(task => {\n    if (!activeTasks) return true;\n    return task.id !== activeTasks.id;\n  });\n\n  // Show login/signup prompt if not authenticated\n  if (!authLoading && !user) {\n    return (\n      <Layout>\n        <div className=\"min-h-[60vh] flex items-center justify-center px-2\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"max-w-md w-full\"\n          >\n            <Card className=\"bg-gradient-to-br from-blue-600/20 via-purple-600/20 to-indigo-600/20 border-2 border-blue-500/30\">\n              <CardHeader className=\"text-center px-4 sm:px-6\">\n                <div className=\"inline-flex p-3 rounded-full bg-white/10 mb-4\">\n                  <Sparkles className=\"h-8 w-8 text-white\" />\n                </div>\n                <CardTitle className=\"text-2xl sm:text-3xl font-bold text-white mb-2\">\n                  Welcome to Your Voice-First Planning Assistant\n                </CardTitle>\n                <CardDescription className=\"text-white/80 text-sm sm:text-base\">\n                  Get started by creating an account to transform your voice input into structured, actionable items.\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4 px-4 sm:px-6\">\n                <Link href=\"/auth/signup\" className=\"block\">\n                  <Button\n                    size=\"lg\"\n                    className=\"w-full min-h-[44px] bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white border-0 shadow-lg\"\n                  >\n                    <UserPlus className=\"mr-2 h-5 w-5\" />\n                    Create Account\n                  </Button>\n                </Link>\n                <Link href=\"/auth/login\" className=\"block\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"lg\"\n                    className=\"w-full min-h-[44px] border-gray-600 text-white hover:bg-gray-800\"\n                  >\n                    <LogIn className=\"mr-2 h-5 w-5\" />\n                    Sign In\n                  </Button>\n                </Link>\n              </CardContent>\n            </Card>\n          </motion.div>\n        </div>\n      </Layout>\n    );\n  }\n\n  // Show loading state while checking auth\n  if (authLoading) {\n    return (\n      <Layout>\n        <div className=\"flex items-center justify-center min-h-[60vh]\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto\"></div>\n            <p className=\"mt-4 text-gray-400\">Loading...</p>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <AnimatePresence>\n        {showTaskForm && (\n          <TaskCreationForm\n            onClose={() => setShowTaskForm(false)}\n            onTaskCreated={handleTaskCreated}\n          />\n        )}\n      </AnimatePresence>\n\n      <div className=\"space-y-8 sm:space-y-12 max-w-7xl mx-auto\">\n        {/* Welcome Section */}\n        <motion.div\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.3 }}\n          className=\"text-center md:text-left\"\n        >\n          <h1 className=\"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-foreground mb-3\">\n            Welcome back\n          </h1>\n          <p className=\"text-muted-foreground text-base sm:text-lg\">\n            Here's what your AI assistants have prepared for today.\n          </p>\n        </motion.div>\n\n        {/* Current Task Card */}\n        {activeTasks ? (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3, delay: 0.1 }}\n          >\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-3 text-xl\">\n                  <div className=\"p-2 rounded-md bg-primary/10 text-primary\">\n                    <Activity className=\"h-5 w-5\" />\n                  </div>\n                  Current Task\n                </CardTitle>\n                <CardDescription>\n                  Your AI assistant scheduled this for you right now\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <TaskCard task={activeTasks} status=\"summary\" />\n              </CardContent>\n            </Card>\n          </motion.div>\n        ) : (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.3, delay: 0.1 }}\n          >\n            <Card className=\"relative overflow-hidden bg-gradient-to-br from-blue-600/20 via-purple-600/20 to-indigo-600/20 border-2 border-blue-500/30\">\n              <div className=\"text-center py-8 sm:py-12 px-4 sm:px-6\">\n                <div className=\"inline-flex p-3 rounded-full bg-white/10 mb-4 sm:mb-6\">\n                  <Sparkles className=\"h-8 w-8 text-white\" />\n                </div>\n                <CardTitle className=\"text-2xl sm:text-3xl font-bold text-white mb-3 sm:mb-4\">\n                  No active task\n                </CardTitle>\n                <CardDescription className=\"mb-6 sm:mb-8 max-w-md mx-auto text-white/80 text-sm sm:text-base\">\n                  No active tasks right now. Tap below to talk your mindâ€”type or speak, and weâ€™ll turn it into a plan.\n                </CardDescription>\n                <Button\n                  size=\"lg\"\n                  onClick={() => setShowTaskForm(true)}\n                  className=\"w-full sm:w-auto bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white border-0 shadow-lg\"\n                >\n                  <Plus className=\"mr-2 h-5 w-5\" />\n                  Talk your mind\n                </Button>\n              </div>\n            </Card>\n          </motion.div>\n        )}\n\n        {/* Quick Actions Dashboard */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.2, delay: 0.1 }}\n          >\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <Calendar className=\"h-5 w-5 text-gray-400\" />\n                <h3 className=\"text-lg font-semibold text-white\">Today's Schedule</h3>\n              </div>\n              <Card className=\"bg-gray-800/50 border-gray-700\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1\">\n                    <span className=\"text-sm text-gray-400\">Total tasks: {tasksArray.length}</span>\n                    <span className=\"text-sm text-gray-400\">Time allocated: {tasksArray.reduce((total, task) => total + (task.estimatedTime || 0), 0)}m</span>\n                  </div>\n                </CardContent>\n              </Card>\n              <Link href=\"/schedule\" className=\"inline-flex items-center gap-1 text-sm text-cyan-400 hover:text-cyan-300 transition-colors\">\n                View Detailed Schedule\n                <span>â†’</span>\n              </Link>\n            </div>\n          </motion.div>\n\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.2, delay: 0.15 }}\n          >\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <Target className=\"h-5 w-5 text-gray-400\" />\n                <h3 className=\"text-lg font-semibold text-white\">Weekly pressure</h3>\n              </div>\n              <Card className=\"bg-gray-800/50 border-gray-700\">\n                <CardContent className=\"p-4\">\n                  <div className=\"flex flex-wrap items-center justify-between gap-2\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center border border-amber-500/30 shrink-0\">\n                        <span className=\"text-amber-400 font-semibold\">P</span>\n                      </div>\n                      <span className=\"text-white font-medium\">This week</span>\n                    </div>\n                    <div className=\"flex items-center gap-3 sm:gap-4\">\n                      <span className=\"text-sm text-gray-400\">Hours + items</span>\n                      <span className=\"text-sm font-semibold text-cyan-400\">View</span>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n              <Link href=\"/pressure\" className=\"inline-flex items-center gap-1 text-sm text-cyan-400 hover:text-cyan-300 transition-colors\">\n                View pressure\n                <span>â†’</span>\n              </Link>\n            </div>\n          </motion.div>\n\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.2, delay: 0.2 }}\n          >\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-3 text-lg\">\n                  <div className=\"p-2 rounded-md bg-muted\">\n                    <Activity className=\"h-4 w-4 text-muted-foreground\" />\n                  </div>\n                  AI Insights\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4 mb-6\">\n                  <div className=\"p-4 rounded-md bg-muted border-l-2 border-primary\">\n                    <p className=\"text-sm text-foreground leading-relaxed\">\n                      \"Focus is strongest in the morning - we've scheduled your most challenging work first.\"\n                    </p>\n                  </div>\n                  <div className=\"p-4 rounded-md bg-muted border-l-2 border-primary\">\n                    <p className=\"text-sm text-foreground leading-relaxed\">\n                      \"Consider taking a 15-min break after your current task.\"\n                    </p>\n                  </div>\n                </div>\n                <Button variant=\"outline\" size=\"sm\" className=\"w-full\">\n                  View Insights\n                </Button>\n              </CardContent>\n            </Card>\n          </motion.div>\n        </div>\n\n        {/* Today's Tasks List */}\n        <div>\n          <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6 sm:mb-8\">\n            <h2 className=\"text-xl sm:text-2xl font-semibold\">\n              Today's Tasks\n            </h2>\n            <Button\n              onClick={() => setShowTaskForm(true)}\n              className=\"w-full sm:w-auto\"\n            >\n              <Plus className=\"mr-2 h-4 w-4\" />\n              New Task\n            </Button>\n          </div>\n          {loading ? (\n            <div className=\"text-center py-8\">Loading tasks...</div>\n          ) : todayTasks.length > 0 ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {todayTasks.slice(0, 8).map((task, index) => (\n                <TaskCard\n                  key={task.id}\n                  task={task}\n                  status=\"summary\"\n                  onStartTask={() => console.log(`Starting ${task.id}`)}\n                />\n              ))}\n            </div>\n          ) : (\n            <Card className=\"text-center py-12\">\n              <CardTitle>No tasks for today</CardTitle>\n              <CardDescription>\n                Let's create a plan and get you set up with some tasks!\n              </CardDescription>\n            </Card>\n          )}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default HomePage;\n"],"names":[],"mappings":"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"}}]
}